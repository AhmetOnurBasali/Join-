<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>contacts</title>
    <link rel="icon" type="image/svg" href="../assets/img/join_logo.svg">
    <link rel="stylesheet" href="../css/contacts.css">
    <link rel="stylesheet" href="../css/header_sidebar.css">
    <link rel="stylesheet" href="../fonts.css">
    <link rel="stylesheet" href="../css/addTask.css">
    <script src="../js/mini_backend.js"></script>
    <script src="../script.js"></script>
    <script src="../js/templates.js"></script>
    <script src="../js/login.js"></script>
    <script src="../js/contacts.js"></script>
    <script src="../js/board.js"></script>
    <script src="../js/summary.js"></script>
    <script src="../js/addTask.js"></script>

    <script>
        async function initContacts() {
            await initTemplates();
            await loadCurrentUser();
            await loadContactsData()
            await loadTasks();
            await loadUsers();
        }
    </script>
</head>

<body onload="initContacts()">

    <div id="header"></div>
    <div id="sidebar"></div>

    <div class="invisibleHeadDiv"></div>
    <div class="contactsMainContainer">
        <div class="invisibleSideDiv"></div>

        <div class="contactsContainer" id="contactsArea"></div>

        <div class="rightSectionCO">
            <div class="textPosi">
                <div>
                    <h1 style="font-size: 60px;">Contacts</h1>
                </div>
                <div class="lineBlue"></div>
                <div style="font-size: 26px;">
                    Better with a team
                </div>
            </div>
            <div style="padding: 0 80px;">
                <div id="slideContainer" class="slideContactContainer d-none">
                    <div class="contactSlideName">
                        <div id="slideContactsBubble"></div>
                        <div>
                            <div id="slideName"></div>
                            <div class="lightblueColor addTaskBtnCO add-task" onclick="addTaskBoard('todo')">+add task
                            </div>
                        </div>
                    </div>
                    <div class="slideContactInfoContainer">
                        <div style="font-size: 21px;">Contact Infomormation</div>
                        <div id="slideEditContact"></div>
                    </div>
                    <div class="slideEmailPhoneInfo">
                        <div>
                            <b>Email</b>
                        </div>
                        <div id="slideEmail"></div>
                    </div>
                    <div class="slideEmailPhoneInfo">
                        <div>
                            <b>Phone</b>
                        </div>
                        <div id="slidePhone"></div>
                    </div>
                </div>
            </div>
            <div class="btnPosi">
                <button onclick="openAddNewContact()" class="btnNewContact">
                    <b>New contact</b>
                    <img src="../assets/img/newContact.svg">
                </button>
            </div>
        </div>
    </div>

    <div id="editContactPopup" class="d-none popupContactMainContainer">
        <div class="popupContactContainer">
            <div class="popupContactBlueSection">
                <img src="../assets/img/logoWhite.svg" style="width: 55px">
                <h1 style="font-size: 61px;">Edit contact
                    <div class="blueLineBottom"></div>
                </h1>
            </div>
            <div class="popupContactWhiteSection">
                <div class="closePopupContact">
                    <img onclick="closeEditContact()" style="cursor: pointer;" src="../assets/img/clear.svg">
                </div>
                <div class="inputSection">
                    <div class="contactImgBubbleContainer" id="bubbleInEditSection">
                        <img class="imgUserWhiteSize" src="../assets/img/userWhite.svg">
                    </div>
                    <form onsubmit="saveEdit(event)">
                        <div class="inputsContainerEditSection">
                            <input id="editName" oninput="proofEditName()" class="inputCO nameIcon"
                                placeholder="Edit name" type="text">
                            <input id="editEmail" oninput="proofEditEmail()" class="inputCO emailIcon"
                                placeholder="Edit email" type="email">
                            <input id="editPhone" oninput="proofPhone('editPhone')" maxlength="15" minlength="5"
                                class="inputCO phoneIcon" placeholder="Edit number" type="">
                            <div class="saveContactBtnContainer">
                                <button class="saveContactBlueBtn">
                                    <b>Save</b>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="addContactPopup" class="d-none popupContactMainContainer">
        <div class="popupContactContainer">
            <div class="popupContactBlueSection">
                <img src="../assets/img/logoWhite.svg" style="width: 55px">
                <h1 style="font-size: 61px;">Add contact</h1>
                <span style="font-size: 26px;">Tasks are better with a team!</span>
                <div class="blueLineBottom"></div>
            </div>
            <div class="popupContactWhiteSection">
                <div class="closePopupContact">
                    <img onclick="closeAddNewContact()" style="cursor: pointer;" src="../assets/img/clear.svg">
                </div>
                <div class="inputSection">
                    <div class="contactImgBubbleContainer">
                        <img class="imgUserWhiteSize" src="../assets/img/userWhite.svg">
                    </div>
                    <form onsubmit="createNewContact(event)">
                        <div class="inputsContainer">
                            <input id="name" oninput="proofName()" class="inputCO nameIcon" placeholder="Name" type="text" required>
                            <input id="email" oninput="proofEmail()" class="inputCO emailIcon" placeholder="Email" type="email" required>
                            <input id="phone" oninput="proofPhone('phone')" class="inputCO phoneIcon" placeholder="number" type="number" required>
                            <p id="phoneError" class="phoneError"></p>
                            <div class="addContactBtnContainer">
                                <div onclick="clearContactsInputs()" class="cancelContactWhiteBtn">
                                    Cancel
                                    <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M12.5011 12.5001L17.7441 17.7431M7.25806 17.7431L12.5011 12.5001L7.25806 17.7431ZM17.7441 7.25708L12.5001 12.5001L17.7441 7.25708ZM12.5001 12.5001L7.25806 7.25708L12.5001 12.5001Z"
                                            stroke="#2A3647" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                                </div>
                                <button class="createContactBlueBtn">
                                    <b>Create contact</b>
                                    <img src="../assets/img/check.svg">
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <section onclick="closeAddTaskBoard()" id="popup-add-task-board" class="bg-popup d-none">
        <div onclick="event.stopPropagation()" id="addTask" class="add-task-popup"></div>
    </section>
</body>

</html>